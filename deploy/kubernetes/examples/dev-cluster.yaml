apiVersion: streambus.io/v1alpha1
kind: StreamBusCluster
metadata:
  name: streambus-dev
  namespace: development
spec:
  # Small development cluster
  replicas: 1

  image:
    repository: streambus/broker
    tag: latest
    pullPolicy: Always

  resources:
    requests:
      cpu: 250m
      memory: 256Mi
    limits:
      cpu: 1000m
      memory: 1Gi

  storage:
    class: standard
    size: 5Gi
    raftSize: 2Gi

  config:
    logLevel: debug
    port: 9092
    httpPort: 8081
    grpcPort: 9093
    maxConnections: 100
    maxMessageSize: 1048576  # 1MB

  security:
    tls:
      enabled: false
    authentication:
      enabled: false

  multiTenancy:
    enabled: false

  observability:
    metrics:
      enabled: true
      serviceMonitor: false
    tracing:
      enabled: false
    logging:
      level: debug
      format: text

  podLabels:
    environment: development
